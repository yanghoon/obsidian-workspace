#cache 

### Redis

```bash
# redis-cli
monitor
config set slowlog-log-slower-than 100000 # 100,000 us => 100 ms
config set loglevel notice # none, warning, notice, verbose, debug
```

### RedisTemplate

```java
var template = new RedisTemplate()
template.setKeySerializer(RedisSerializer.string())
template.setValueSerializer(RedisSerializer.json()) // GenericJackson2JsonRedisSerializer
// template.setHashSerializer()
```

```java
var template = new StringRedisTemplate()
String      value1 = template.opsForValue().get("key")
Set<String> value2 = template.opsForZSet().get("key", 0, 9)
```

```java
var template = new ReactiveStringRedisTemplate()
Mono<String> value1 = template.opsForValue().get("key")
Flux<String> value2 = template.opsForZSet().range("key", Range.of(0L, 10L))
```

### k6

```yaml
version: '3'

services:
  k6:
    image: grafana/k6:latest
    # command: ['test']
    command: ['up', 'script.js']
    volumes:
      - ./data:/home/k6
    extra_hosts:
      - local:host-gateway
```

```js
import http from 'k6/http';

export default function () {
  http.get('http://test.k6.io');
  sleep(1)
}
```