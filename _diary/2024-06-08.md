#redis #system-design

### First-come, first-served

```plantuml
participaint Client
queue Redis

Client -> Controller: GET /waiting.html
Controller -> Service: enqueue(wait:queue, user-id)
Service -> Redis: ZADD NX wait:queue timestamp userId
Controller <-- Service: rank of user (in wait:queue)
Client <-- Controller

Client -> Controller: GET /api/rank?user_id=
Controller -> Service: rank(wait:queue, user-id)
Controller <-- Service: rank of user
Client <-- Controller: rank of user
```
