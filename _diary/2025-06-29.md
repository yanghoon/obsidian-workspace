#docker #docker-compose #environment #env-variable

### Interpolation Flow

```bash
docker compose config
```

```go
// cmd/main.go
main().pluginMain()
	plugin.Run() cobra.Command // docker/cli/cli-plugins/plugin, spf13/cobra
		commands.RootCommand() // commands docker/compose/v2/cmd/compose
							   // Sub-Command (config, up, ...)
			// cmd/compose/compose.go
			RootCommand() 
				opts ProjectOptions = ...
				c.PersistentPreRunE func
					setEnvWithDotEnv(opts)
						// compose-spec/compose-go/cli/options.go
						options cli.ProjectOptions = cli.NewProjectOptions(
							// []string
							opts.ConfigPaths,
							//  ...ProjectOptionsFn
							cli.WithWorkingDirectory(opts.ProjectDir),
							cli.WithOsEnv,
							cli.WithEnvFiles(opts.EnvFiles...),
							cli.WithDotEnv,
						)
						dotenv.GetEnvFromFile(os.Environ(), )
						
					
				c.AddCommand(configCommand(opts,...))
				
			PersistentPreRunE()
			originalPreRunE(cobra.Command, args []string)

```